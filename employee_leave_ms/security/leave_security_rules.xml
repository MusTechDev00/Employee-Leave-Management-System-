<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <!-- Group for Employees -->
    <record id="group_leave_employee" model="res.groups">
        <field name="name">Leave Employee</field>
        <field name="category_id" ref="base.module_category_human_resources"/>
    </record>

    <!-- Group for Managers -->
    <record id="group_leave_manager" model="res.groups">
        <field name="name">Leave Manager</field>
        <field name="category_id" ref="base.module_category_human_resources"/>
    </record>


    <!-- Employees: Only see their own leave requests -->
    <record id="leave_request_employee_rule" model="ir.rule">
        <field name="name">Employee Own Leave Requests</field>
        <field name="model_id" ref="model_leave_request"/>
        <field name="groups" eval="[(4, ref('employee_leave_ms.group_leave_employee'))]"/>
        <field name="domain_force">[('employee_id.user_id', '=', user.id)]</field>
    </record>

    <!-- Managers: See all leave requests -->
    <record id="leave_request_manager_rule" model="ir.rule">
        <field name="name">Manager See All Leave Requests</field>
        <field name="model_id" ref="model_leave_request"/>
        <field name="groups" eval="[(4, ref('employee_leave_ms.group_leave_manager'))]"/>
        <field name="domain_force">[(1, '=', 1)]</field>
    </record>
    <record id="base.user_admin" model="res.users">
        <field name="groups_id" eval="[(4, ref('employee_leave_ms.group_leave_manager'))]"/>
    </record>


</odoo>

